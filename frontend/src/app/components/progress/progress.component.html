<app-layout-header></app-layout-header>
<div class="progress-footer FooterTop text-center">
  <a href="invitations">{{ "footer.catalog" | translate }}</a>
  <div class="progress-chart">
    <div class="progress">
      <div class="pending" role="progressbar" style="width: 33%" data-toggle="tooltip" data-placement="top"
        title="{{ 'progress.pending' | translate }}"></div>
      <div class="progressing" role="progressbar" style="width: 33%" data-toggle="tooltip" data-placement="top"
        title="{{ 'progress.progressing' | translate }}"></div>
      <div class="finished" role="progressbar" style="width: 34%" data-toggle="tooltip" data-placement="top"
        title="{{ 'progress.finished' | translate }}"></div>
    </div>
  </div>
</div>
<div class="MainBodyPart">
  <div class="container-fluid">
    <div class="AdminUser">
      <div class="row">
        <div class="col-md-4">
          <div class="LeftSearchPart">
            <div class="right-inner-addon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="15px" height="15px" fill="#eee">
                <path
                    d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z" />
              </svg>
              <input class="form-control form-control-outline custom-search"
                placeholder="{{ 'filter.search' | translate }}" type="text" name="search" [(ngModel)]="searchText"
                autocomplete="off" />
              <div class="FilterBox mt-4">
                <div class="form-group mb-4">
                  <div class="dropdown customDrpDown">
                    <button class="btn btn-secondary dropdown-toggle text-uppercase" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      {{selectedValue ? selectedValue : "progress.progress" | translate}}
                    </button>
                    <ul class="dropdown-menu">
                      <li (click)="onChangeProgress(progress)" *ngFor="let progress of progressList; let i = index"><a class="dropdown-item" href="javascript:void(0)">{{ progress }}</a></li>
                    </ul>
                    <span class="bi bi-send"></span>
                  </div>
                </div>
                <div class="form-group mb-4">
                  <div class="dropdown customDrpDown">
                    <button class="btn btn-secondary dropdown-toggle text-uppercase" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      {{selectedRole ? selectedRole : "All users"}}
                    </button>
                    <ul class="dropdown-menu">
                      <li (click)="onChangeRole(rol)" *ngFor="let rol of userRolList; let i = index"><a class="dropdown-item" href="javascript:void(0)"> {{ rol }}</a></li>
                    </ul>
                    <span class="bi bi-send"></span>
                  </div>
                </div>
                <div class="form-group mb-4">
                  <div class="dropdown customDrpDown">
                    <button class="btn btn-secondary dropdown-toggle text-uppercase" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      {{selectedDepartment ? selectedDepartment : "progress.department" | translate}}
                    </button>
                    <ul class="dropdown-menu">
                      <li (click)="onChangeDepartment(department.name)" *ngFor="let department of departments; let i = index"><a class="dropdown-item" href="javascript:void(0)"> {{ department.name }}</a></li>
                    </ul>
                    <span _ngcontent-sis-c26="" class="bi bi-send"></span>
                  </div>
                 
                </div>
                <div class="form-group mb-4">
                  <div class="dropdown customDrpDown">
                    <button class="btn btn-secondary dropdown-toggle text-uppercase" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      {{selectedJobTitle ? selectedJobTitle : "progress.jobTitle" | translate}}
                    </button>
                    <ul class="dropdown-menu">
                      <li (click)="onChangeJobTitle(title.name)" *ngFor = "let title of titles; let i = index"><a class="dropdown-item" href="javascript:void(0)">  {{ title }}</a></li>
                    </ul>
                    <span _ngcontent-sis-c26="" class="bi bi-send"></span>
                  </div>

                </div>
                <div class="form-group mb-4">
                  <div class="dropdown customDrpDown">
                    <button class="btn btn-secondary dropdown-toggle text-uppercase" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      {{selectedJobId ? selectedJobId : "progress.jobId" | translate}}
                    </button>
                    <ul class="dropdown-menu">
                      <li (click)="onChangeJobId(position.name)" *ngFor="let position of positions; let i = index"><a class="dropdown-item" href="javascript:void(0)">{{ position.name }}</a></li>
                    </ul>
                    <span _ngcontent-sis-c26="" class="bi bi-send"></span>
                  </div>
                </div>
              </div>
            </div>
            <button (click)="viewResult()" type="button" class="theme-btn w-100 text-uppercase bold">
              View Results
            </button>
          </div>
        </div>
        <div class="col-md-8">
          <div class="Custompagination">
            <ul class="pagination">
              <li class="page-item">
                <a class="page-link Previous-page" aria-label="Previous">
                  <span class="LeftBorderPage bi bi-send"></span>
                </a>
              </li>
              <li class="page-item">
                <a class="page-link Previous-page" aria-label="Previous">
                  <span class="bi bi-send"></span>
                </a>
              </li>
              <li class="page-item"><a class="page-link active">001</a></li>
              <li class="page-item">
                <a class="page-link Next-page" aria-label="Next">
                  <span class="bi bi-send"></span>
                </a>
              </li>
              <li class="page-item">
                <a class="page-link Next-page" aria-label="Next">
                  <span class="bi bi-send RightBorderPage"></span>
                </a>
              </li>
            </ul>
          </div>
          <div class="scrollTable">
            <div class="UserTable table-hover">
              <div class="col-xs-1">
              </div>
              <table class="table table-dark">
                <tbody>
                  <tr *ngFor="let user of userStatusListPage | filter : searchText">
                    <td scope="row">
                      <i *ngIf="user.role === 'EMPLOYEE' || user.role === 'MANAGER'" [ngClass]="{'pending-color': user.status == 'CREATED', 'progressing-color': user.status == 'IN_PROGRESS', 'finished-color': user.status == 'DONE'}" class="bi bi-triangle-fill"></i>
                      <i *ngIf="user.role == 'APPLICANT'" [ngClass]="{'pending-color': user.status == 'CREATED', 'progressing-color': user.status == 'IN_PROGRESS', 'finished-color': user.status == 'DONE'}" class="bi bi-hexagon-fill"></i>
                    </td>
                    <td>{{ user.first_name}}</td>
                    <td>{{ user.last_name }}</td>
                    <td>{{
                      user.role == "EMPLOYEE"
                      ? user.title
                      : user.position_name
                      }}</td>
                    <td>{{ user.department_name }}</td>
                  </tr>

                </tbody>
              </table>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>